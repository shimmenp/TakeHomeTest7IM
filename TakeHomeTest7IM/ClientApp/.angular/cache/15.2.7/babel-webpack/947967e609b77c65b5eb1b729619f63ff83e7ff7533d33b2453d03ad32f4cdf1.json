{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/search.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction SearchComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.noSearchTermMessage, \" \");\n  }\n}\nfunction SearchComponent_div_9_div_1_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const person_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r5.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r5.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(person_r5.email);\n  }\n}\nfunction SearchComponent_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"table\", 8)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Email\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, SearchComponent_div_9_div_1_tr_11_Template, 7, 3, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.searchResults);\n  }\n}\nfunction SearchComponent_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No results found. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, SearchComponent_div_9_div_1_Template, 12, 1, \"div\", 6);\n    i0.ɵɵtemplate(2, SearchComponent_div_9_div_2_Template, 2, 0, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.searchResults.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.searchResults.length === 0);\n  }\n}\nexport class SearchComponent {\n  constructor(searchService) {\n    this.searchService = searchService;\n    this.pageTitle = 'Person Search';\n    this.searchTerm = '';\n    this.searchResults = [];\n    this.searchPerformed = false;\n    this.errorMessage = '';\n    this.noSearchTermMessage = '';\n  }\n  searchClicked() {\n    if (this.searchTerm.trim() !== '') {\n      this.searchService.search(this.searchTerm).subscribe({\n        next: results => {\n          this.searchResults = results;\n          this.searchPerformed = true;\n          this.errorMessage = '';\n          this.noSearchTermMessage = '';\n        },\n        error: error => {\n          console.error('Error searching:', error);\n          this.searchResults = [];\n          this.searchPerformed = true;\n          this.errorMessage = 'An error occurred while searching.';\n        }\n      });\n    } else {\n      this.searchResults = [];\n      this.searchPerformed = false;\n      this.errorMessage = '';\n      this.noSearchTermMessage = 'You did not enter a search term, no results returned.';\n    }\n  }\n  textChanged() {\n    this.searchResults = [];\n    this.searchPerformed = false;\n    this.errorMessage = '';\n    this.noSearchTermMessage = '';\n  }\n}\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.SearchService));\n};\nSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"app-search\"]],\n  decls: 10,\n  vars: 3,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [\"type\", \"text\", \"placeholder\", \"Enter search term\", \"maxlength\", \"50\", 3, \"ngModel\", \"input\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"table-responsive mt-3\", 4, \"ngIf\"], [1, \"table-responsive\", \"mt-3\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\")(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModel\", function SearchComponent_Template_input_ngModel_5_listener() {\n        return ctx.searchTerm;\n      })(\"input\", function SearchComponent_Template_input_input_5_listener() {\n        return ctx.textChanged();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_6_listener() {\n        return ctx.searchClicked();\n      });\n      i0.ɵɵtext(7, \"Search\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, SearchComponent_div_8_Template, 2, 1, \"div\", 5);\n      i0.ɵɵtemplate(9, SearchComponent_div_9_Template, 3, 2, \"div\", 5);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.noSearchTermMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchPerformed && !ctx.noSearchTermMessage);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.MaxLengthValidator, i3.NgModel],\n  styles: [\"input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\r\\n  padding: 8px;\\r\\n  margin-right: 8px;\\r\\n  width: 300px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  padding: 8px 16px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\nul[_ngcontent-%COMP%] {\\r\\n  list-style-type: none;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\nli[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 8px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixVQUFVO0FBQ1o7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dFt0eXBlPVwidGV4dFwiXSB7XHJcbiAgcGFkZGluZzogOHB4O1xyXG4gIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIHdpZHRoOiAzMDBweDtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICBwYWRkaW5nOiA4cHggMTZweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbnVsIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgcGFkZGluZzogMDtcclxufVxyXG5cclxubGkge1xyXG4gIG1hcmdpbi1ib3R0b206IDhweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SearchComponent","constructor","searchService","searchClicked","searchTerm","trim","search","subscribe","next","results","searchResults","searchPerformed","errorMessage","noSearchTermMessage","error","console","textChanged","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Paul\\source\\repos\\TakeHomeTest7IM\\TakeHomeTest7IM\\ClientApp\\src\\app\\search\\search.component.html","C:\\Users\\Paul\\source\\repos\\TakeHomeTest7IM\\TakeHomeTest7IM\\ClientApp\\src\\app\\search\\search.component.ts"],"sourcesContent":["<div class='card'>\r\n  <div class='card-header'>\r\n    {{pageTitle}}\r\n  </div>\r\n  <div class='card-body'>\r\n    <div>\r\n      <input type=\"text\" (ngModel)=\"searchTerm\" placeholder=\"Enter search term\" maxlength=\"50\" (input)=\"textChanged()\">\r\n      <button (click)=\"searchClicked()\" class=\"btn btn-primary\">Search</button>\r\n    </div>\r\n\r\n    <div *ngIf=\"noSearchTermMessage\">\r\n      {{ noSearchTermMessage }}\r\n    </div>\r\n\r\n    <div *ngIf=\"searchPerformed && !noSearchTermMessage\">\r\n      <div *ngIf=\"searchResults.length > 0\" class=\"table-responsive mt-3\">\r\n        <table class=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>First Name</th>\r\n              <th>Last Name</th>\r\n              <th>Email</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let person of searchResults\">\r\n              <td>{{ person.firstName }}</td>\r\n              <td>{{ person.lastName }}</td>\r\n              <td>{{ person.email }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div *ngIf=\"searchResults.length === 0\">\r\n        No results found.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from \"@angular/core\";\r\nimport { PersonDto } from \"../core/models/personDto\";\r\nimport { SearchService } from \"../core/services/search.service\";\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css']\r\n})\r\nexport class SearchComponent {\r\n  pageTitle: string = 'Person Search';\r\n  searchTerm: string = '';\r\n  searchResults: PersonDto[] = [];\r\n  searchPerformed: boolean = false;\r\n  errorMessage: string = '';\r\n  noSearchTermMessage: string = '';\r\n\r\n  constructor(private searchService: SearchService) { }\r\n\r\n  searchClicked(): void {\r\n    if (this.searchTerm.trim() !== '') {\r\n      this.searchService.search(this.searchTerm).subscribe(\r\n        {\r\n          next: (results: PersonDto[]) => {\r\n            this.searchResults = results;\r\n            this.searchPerformed = true;\r\n            this.errorMessage = '';\r\n            this.noSearchTermMessage = '';\r\n          },\r\n          error: (error) => {\r\n            console.error('Error searching:', error);\r\n            this.searchResults = [];\r\n            this.searchPerformed = true;\r\n            this.errorMessage = 'An error occurred while searching.';\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      this.searchResults = [];\r\n      this.searchPerformed = false;\r\n      this.errorMessage = '';\r\n      this.noSearchTermMessage = 'You did not enter a search term, no results returned.';\r\n    }\r\n  }\r\n\r\n  textChanged(): void {\r\n    this.searchResults = [];\r\n    this.searchPerformed = false;\r\n    this.errorMessage = '';\r\n    this.noSearchTermMessage = '';\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}